import { useState } from 'react';
import { TestPanel } from './TestPanel';
import './TestButton.css';

export function TestButton() {
  const [isOpen, setIsOpen] = useState(false);

  return (
    <>
      <div className="test-button-container">
        <button
          className={`test-button ${isOpen ? 'test-button-active' : ''}`}
          onClick={() => setIsOpen(!isOpen)}
          title={isOpen ? "Close Test Panel" : "Open Test Panel"}
        >
          <svg
            className="test-button-icon"
            xmlns="http://www.w3.org/2000/svg"
            width="32"
            height="32"
            viewBox="0 0 32 32"
            fill="none"
            aria-hidden
          >
            <path
              d="M28.5552 1.34605C28.8349 1.06403 28.782 0.591124 28.4195 0.431605C26.5395 -0.395581 24.2688 -0.0337687 22.7307 1.51704C21.414 2.84467 20.9615 4.71371 21.3733 6.41344L17.969 9.85218C17.7783 10.0448 17.796 10.3615 18.0055 10.5331C19.0907 11.4226 20.5082 12.6572 21.4711 13.6642C21.6519 13.8533 21.9531 13.8602 22.1359 13.6732L25.4548 10.2779C27.053 10.5659 28.7604 10.0872 29.9954 8.84198C31.534 7.29068 31.8926 5.00017 31.0712 3.10431C30.9129 2.7389 30.444 2.68563 30.1643 2.96759L27.3841 5.77085C27.2637 5.89229 27.0684 5.89229 26.948 5.77085L25.7755 4.58862C25.655 4.46718 25.655 4.2703 25.7755 4.14887L28.5552 1.34605Z"
              fill="white"
            />
            <path
              d="M9.27193 18.7161L6.8163 21.2681C5.15472 20.8906 3.34312 21.3539 2.04968 22.658C0.511138 24.2093 0.152557 26.4998 0.973935 28.3957C1.13225 28.7611 1.60116 28.8144 1.8808 28.5324L4.66101 25.7291C4.78145 25.6077 4.97671 25.6077 5.09714 25.7291L6.26966 26.9114C6.39009 27.0328 6.3901 27.2297 6.26966 27.3511L3.48989 30.154C3.21019 30.436 3.26312 30.9089 3.62565 31.0684C5.50559 31.8956 7.77632 31.5338 9.31439 29.983C10.5638 28.7231 11.0351 26.9758 10.7282 25.3482L13.087 23.0113C13.2693 22.8292 13.2648 22.531 13.0817 22.3497C12.0256 21.3041 10.8321 19.9016 9.96167 18.7614C9.79222 18.5394 9.46685 18.5165 9.27193 18.7161Z"
              fill="white"
            />
            <path
              d="M0.184478 1.10353C0.102047 1.02042 -0.0343445 1.11019 0.00794525 1.21972L2.25549 7.04108C2.3584 7.36065 2.57904 7.62818 2.8719 7.78848C3.24092 7.99046 3.71467 8.20538 4.16485 8.40959C4.69907 8.65193 5.20012 8.87923 5.45348 9.05195L6.81873 10.0106C7.00822 10.1437 7.26543 10.1186 7.42609 9.95135L9.44413 7.85088C9.60195 7.68661 9.6212 7.43223 9.48993 7.24572L8.60765 5.9921C8.52862 5.87982 8.45944 5.76082 8.40087 5.63644L7.32699 3.35597C7.17118 3.04177 6.89685 2.80376 6.56548 2.69528L0.718516 0.480471C0.610048 0.439384 0.522543 0.576314 0.604475 0.658925L4.04476 4.12774C4.3719 3.91879 5.02455 3.93485 5.41152 4.32503C5.87018 4.78749 5.91214 5.49506 5.45348 5.95752C4.99482 6.41999 4.2923 6.37859 3.83364 5.91613C3.44667 5.52595 3.41104 4.97187 3.61436 4.56185L0.184478 1.10353Z"
              fill="white"
            />
            <path
              d="M11.4396 8.71523C11.2684 8.62727 11.065 8.66919 10.9311 8.80812C10.6 9.15186 10.1867 9.59685 9.75842 10.058C9.26819 10.5858 8.75807 11.1351 8.32922 11.5776C8.19155 11.7197 8.15208 11.9309 8.24268 12.1073C9.26524 14.0979 12.2104 17.9141 14.8545 20.5802C17.6359 23.3847 28.1324 30.8858 28.1324 30.8858C28.8138 31.4127 29.6393 31.4741 30.2227 30.8858C30.8062 30.2975 30.7189 29.4251 30.2161 28.7848C30.2161 28.7848 22.9093 18.6919 20.051 15.8099C17.336 13.0723 13.355 9.6997 11.4396 8.71523Z"
              fill="white"
            />
          </svg>
        </button>
      </div>
      <TestPanel isOpen={isOpen} onClose={() => setIsOpen(false)} />
    </>
  );
}
